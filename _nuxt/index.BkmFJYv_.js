import{d as H,o as d,a as g,n as I,r as B,a4 as M,b as e,f as n,e as D,s as _,h as r,q as f,x as E,u as P,m as R,T as V,c as y,ax as q,g as l,aa as C,w as L,y as X,_ as Y,V as z,U as b}from"./entry.PKrA3y6R.js";import{_ as O}from"./Preloader.vue.CEJmd39k.js";const W=H({__name:"Toggle",props:{value:{type:Boolean,required:!0}},setup(v){return(o,c)=>(d(),g("div",{class:I(["toggle-switch",{checked:v.value}])},null,2))}}),j={class:"modal-content"},x=["innerHTML"],J=["innerHTML"],K={class:"modal-buttons"},Q=["disabled"],Z=["innerHTML"],ee=["innerHTML"],te=H({__name:"DeleteAccount",setup(v){const o=B(!1),{$event:c}=f(),p=M(),i=async()=>{o.value||(o.value=!0,await p.postDeleteMe().then(()=>{_().useHapticFeedback("heavy"),r().trackEvent("delete_account_success"),p.logout(!1),c("bs:close"),c("modal:close"),setTimeout(()=>{var s,m;(m=(s=window==null?void 0:window.Telegram)==null?void 0:s.WebApp)==null||m.close()},400)}).catch(s=>{r().showErrorPush(),r().trackEvent("delete_account_error")}).finally(()=>{o.value=!1}))},a=()=>{r().trackEvent("delete_account_cancel_step2"),c("modal:close"),c("bs:close")};return(s,m)=>{const T=O;return d(),g("div",j,[e("div",{class:"modal-title",innerHTML:s.$t("settings.delete_account_step2_title")},null,8,x),e("div",{class:"modal-description",innerHTML:s.$t("settings.delete_account_step2_description")},null,8,J),e("div",K,[e("button",{class:"button is-danger",disabled:n(o),onClick:i},[n(o)?(d(),D(T,{key:0})):(d(),g("span",{key:1,innerHTML:s.$t("settings.delete_account")},null,8,Z))],8,Q),e("button",{class:"button",innerHTML:s.$t("buttons.cancel"),onClick:a},null,8,ee)])])}}}),ne={class:"bs-content"},se=["innerHTML"],oe=["innerHTML"],ce={class:"bs-content-buttons"},ie=["innerHTML"],ae=["innerHTML"],le=H({__name:"DeleteAccount",setup(v){const{$event:o}=f();M();const c=async()=>{r().trackEvent("delete_account_click_yes"),o("modal:open",{component:E(te)})},p=()=>{r().trackEvent("delete_account_cancel"),o("bs:close")};return(i,a)=>(d(),g("div",ne,[e("div",{class:"bs-content-title-medium has-top-gap",innerHTML:i.$t("settings.delete_account_title")},null,8,se),e("div",{class:"bs-content-description full-width",innerHTML:i.$t("settings.delete_account_description")},null,8,oe),e("div",ce,[e("button",{class:"button button-default button-danger",onClick:c},[e("span",{innerHTML:i.$t("settings.delete_account")},null,8,ie)]),e("button",{class:"button button-default button-dark",innerHTML:i.$t("buttons.cancel"),onClick:p},null,8,ae)])]))}}),re={class:"main"},ue={class:"inner settings"},_e=["innerHTML"],de={class:"settings-item-content"},pe=["innerHTML"],me={class:"settings-item-action"},ge={class:"settings-item-content"},he=["innerHTML"],ve={class:"settings-item-action"},ke={class:"settings-item-content"},He=["innerHTML"],Te={class:"settings-item-action"},$e=["innerHTML"],Le=["innerHTML"],be={key:0,class:"settings-info"},Me=["title"],fe=e("p",null,"Token:  ",-1),Ce=H({__name:"index",setup(v){const{$event:o}=f(),{locale:c,locales:p}=P(),i=R(),a=V(),s=M(),m=r(),T=_(),A=y(()=>{var t;return((t=p.value.find(u=>u.code===c.value))==null?void 0:t.name)??""}),w=()=>{a.updateSettings({haptic:!a.settings.haptic}),_().useHapticFeedback()},N=()=>{_().useHapticFeedback(),a.updateSettings({coins_animation:!a.settings.coins_animation})};y(()=>{var t;return(t=i.exchangeRefLinks[q.BINGX])==null?void 0:t.exchangeRefLink});const G=t=>{T.copyText(t??"Hamster 🐹")},U=()=>{_().useHapticFeedback("heavy"),r().trackEvent("delete_account_click"),o("bs:open",{component:E(le)})},F=()=>{_().useHapticFeedback("heavy"),r().trackEvent("click_privacy_policy")};return(t,u)=>{const k=Y,$=z,S=W;return d(),g("main",re,[e("div",ue,[e("div",{class:"settings-title",innerHTML:t.$t("settings.title")},null,8,_e),l($,{class:"settings-item",to:n(b).GAME_SETTINGS_LANGUAGE,onClick:u[0]||(u[0]=h=>("useUiStore"in t?t.useUiStore:n(_))().useHapticFeedback("soft"))},{default:C(()=>[e("div",de,[e("p",{innerHTML:t.$t("settings.select_language")},null,8,pe),e("span",null,L(n(A)),1)]),e("div",me,[l(k,{class:"is-24",name:"caret-right"})])]),_:1},8,["to"]),l($,{class:"settings-item",to:n(b).GAME_SETTINGS_EXCHANGE,onClick:u[1]||(u[1]=h=>("useUiStore"in t?t.useUiStore:n(_))().useHapticFeedback("soft"))},{default:C(()=>{var h;return[e("div",ge,[e("p",{innerHTML:t.$t("settings.select_exchange")},null,8,he),e("span",null,L(((h=n(i).currentExchange)==null?void 0:h.name)??"unknown"),1)]),e("div",ve,[l(k,{class:"is-24",name:"caret-right"})])]}),_:1},8,["to"]),e("div",{class:"settings-item",onClick:U},[e("div",ke,[e("p",{innerHTML:t.$t("settings.delete_account")},null,8,He)]),e("div",Te,[l(k,{class:"is-24",name:"caret-right"})])]),e("div",{class:"settings-toggle",onClick:w},[e("p",{innerHTML:t.$t("settings.haptic")},null,8,$e),l(S,{value:n(a).settings.haptic},null,8,["value"])]),e("div",{class:"settings-toggle",onClick:N},[e("p",{innerHTML:t.$t("settings.coins_animation")},null,8,Le),l(S,{value:n(a).settings.coins_animation},null,8,["value"])]),n(m).isDevelopment()?(d(),g("div",be,[e("div",{class:"connect-ton-wallet-info",onClick:u[2]||(u[2]=h=>G(n(s).token)),title:n(s).token},[fe,e("span",null,L(n(m).shrinkString(n(s).token,12)),1),l(k,{class:"is-copy-icon",name:"copy"})],8,Me)])):X("",!0),l($,{class:"settings-link",to:n(b).PRIVACY_POLICY,onClick:F,target:"_blank",innerHTML:t.$t("settings.privacy_policy")},null,8,["to","innerHTML"])])])}}});export{Ce as default};
