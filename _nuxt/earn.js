import{d as Q,l as tt,m as nt,u as O,h as w,r as y,c as _,S as g,t as ct,q as p,s as q,C as z,o as a,a as i,b as n,D as G,g as $,f as e,y as C,U as vt,w as A,e as W,O as ft,T as dt,p as Z,z as gt,V as Tt,F as Y,G as j,n as ut,W as bt,X as pt,H as yt,_ as mt,x as lt,B as $t,Y as ht,Z as Lt}from"./entry.PKrA3y6R.js";import{_ as ot}from"./Image.vue.ClQxnqaj.js";import{_ as _t,a as wt}from"./Price.vue.CIqOZq5A.js";import{_ as kt}from"./Preloader.vue.CEJmd39k.js";import{u as Ct}from"./attraction.Dy-HgKWz.js";const St={class:"bs-content"},Mt={class:"bs-content-image"},Ht=["innerHTML"],Et=["innerHTML"],Nt={key:0,class:"bs-content-description"},At={key:1,class:"bs-content-description"},Dt={key:2,class:"bs-content-target"},It={class:"bs-content-info"},Rt=["disabled"],Pt=["innerHTML"],Ot=Q({__name:"CheckTask",props:{task:{}},setup(D){const{$event:f}=p(),u=tt(),L=nt();O();const k=w(),t=D,d=y(1),l=y(!1),o=O().t("buttons.check"),h=y(0),E=()=>t.task.modalButton?w().getLocalizedString(t.task.modalButton):o,b=_(()=>{switch(t.task.id){case g.SUBSCRIBE_TELEGRAM_CHANNEL:case g.ADD_OUR_BOT:case g.SUBSCRIBE_TELEGRAM_GROUP:return!0;default:return!1}}),M=_(()=>t.task.modalDescription?w().getLocalizedString(t.task.modalDescription):""),v=y(E()),c=y(!1);async function N(){t.task.id===g.GLEAM_TASKS?r():t.task.link?(b.value&&(d.value=2),d.value===1?(B(),setTimeout(()=>{d.value=2,v.value=o},200),r()):l.value||await S()):t.task.linksWithLocales?(b.value&&(d.value=2),d.value===1?(B(),setTimeout(()=>{d.value=2,v.value=o},200),r()):l.value||await S()):l.value||await S()}const x=_(()=>t.task.modalLinkButton?w().getLocalizedString(t.task.modalLinkButton):O().t("buttons.join")),r=()=>{let s=t.task.link;t.task.linksWithLocales&&(s=m.value),setTimeout(()=>{ft(s??"",{open:{target:"_blank"}})},400)},S=async()=>{c.value=!0,await u.postCheckTask(t.task.id).then(async s=>{if(s.task.isCompleted){await u.postListTasks().then(()=>{setTimeout(()=>{q().taskNotification=!1},50)});const T={x_start_from:-20,x_start_to:window.innerWidth+20,y_start_from:-20,y_start_to:0,x_end_from:-20,x_end_to:window.innerWidth+20,y_end_from:window.innerHeight-64,y_end_to:window.innerHeight,count:200,delay:5,timeout_fly:1e3,direction_y:"from_bottom",random_end_x:!1};dt().settings.coins_animation&&f("coins-animate",T),f("bs:close"),f("check-task:success"),Z.success({message:`${p().$i18n.t("messages.success")}`,duration:4e3})}else Z.error({message:`${p().$i18n.t("messages.task_not_completed")}`,duration:4e3});setTimeout(()=>{c.value=!1},400)}).catch(s=>{c.value=!1,k.showErrorPush(),console.log(s)})},I=(s,T)=>{t.task.id===s&&!localStorage.getItem(s)&&!t.task.isCompleted&&(localStorage.setItem(s,String(k.getNowTimestamp())),l.value=!0,h.value=T)},V=(s,T)=>{if(!t.task.isCompleted&&t.task.id===s){const X=3600*T,U=localStorage.getItem(s);U&&(k.getNowTimestamp()-parseInt(U)>=X?(d.value=2,l.value=!1,h.value=0):(l.value=!0,h.value=k.secondsToHours(X-(k.getNowTimestamp()-parseInt(U)))))}t.task.isCompleted&&t.task.id===s&&localStorage.removeItem(s)},B=()=>{u.tasks.forEach(s=>{s.rewardDelaySeconds&&I(s.id,s.rewardDelaySeconds/3600)})},F=()=>{u.tasks.forEach(s=>{s.rewardDelaySeconds&&V(s.id,s.rewardDelaySeconds/3600)})};ct(()=>{F()});const J=()=>{B(),t.task.id!==g.GLEAM_TASKS&&setTimeout(()=>{d.value=2,v.value=o},200)},K=_(()=>t.task.modalTitle?w().getLocalizedString(t.task.modalTitle):t.task.name?w().getLocalizedString(t.task.name):p().$i18n.t("earn.title")),R=_(()=>{if(t.task.link)return t.task.link;if(t.task.linksWithLocales)return m.value}),m=_(()=>{if(t.task.linksWithLocales){let s="";const{locale:T}=O();return t.task.linksWithLocales[q().language_code]&&(s=t.task.linksWithLocales[q().language_code]),!s&&t.task.linksWithLocales[T.value]&&(s=t.task.linksWithLocales[T.value]),!s&&t.task.linksWithLocales.en&&(s=t.task.linksWithLocales.en),s||(s="https://www.youtube.com/@hamsterkombat_official"),s}}),H=_(()=>{if(h.value){let s="";if(h.value>=1){const T=Math.floor(h.value);s=p().$i18n.t("plural.hours",{n:Math.ceil(Math.abs(T))})}else{const T=Math.floor(h.value*60);s=p().$i18n.t("plural.minutes",{n:Math.ceil(Math.abs(T))})}return s}else return p().$i18n.t("plural.hours",{n:Math.ceil(h.value)})});return(s,T)=>{var P,rt;const X=ot,U=gt,at=Tt,it=_t,et=kt,st=z("motion-pop");return a(),i("div",St,[n("div",Mt,[G($(X,{class:"is-coin-star",image:(P=s.task.image)==null?void 0:P.defaultUrl,compressed:(rt=s.task.image)==null?void 0:rt.compressedUrl},null,8,["image","compressed"]),[[st]])]),n("div",{class:"bs-content-title",innerHTML:e(K)},null,8,Ht),n("div",{class:"bs-content-description",innerHTML:e(M)},null,8,Et),s.task.link||s.task.linksWithLocales?(a(),i("div",Nt,[$(U,{class:"button button-primary button-small",to:e(R),onClick:J,target:"_blank",innerHTML:e(x)},null,8,["to","innerHTML"])])):C("",!0),s.task.id===e(g).SELECT_EXCHANGE?(a(),i("div",At,[$(at,{class:"button button-primary button-small",to:e(vt).GAME_SETTINGS_EXCHANGE,onClick:T[0]||(T[0]=()=>e(f)("bs:close")),innerHTML:s.$t("buttons.choose")},null,8,["to","innerHTML"])])):C("",!0),e(h)?(a(),i("div",Dt,A(s.$t("earn.wait",{hours:e(H)})),1)):C("",!0),n("div",It,[$(it,{price:s.task.rewardCoins,size:"large",round:!1,prefix:"+"},null,8,["price"])]),s.task.isCompleted?C("",!0):(a(),i("button",{key:3,class:"bottom-sheet-button button button-primary button-large",onClick:N,disabled:e(c)||e(L).stop||e(l)},[e(c)?(a(),W(et,{key:1})):(a(),i("span",{key:0,innerHTML:e(v)},null,8,Pt))],8,Rt))])}}}),Wt={class:"bs-content"},Gt={class:"bs-content-image is-boost"},xt=["innerHTML"],Bt=["innerHTML"],Ut={class:"bs-content-daily"},zt={class:"bs-content-daily-coin"},Vt=["disabled"],Ft=["innerHTML"],Kt=Q({__name:"DailyReward",props:{task:{}},setup(D){const{$event:f}=p(),u=tt(),L=nt(),k=w(),t=D,d=y(!1),l=_(()=>t.task.days??0);async function o(){await E()}const h=r=>{if(r<l.value)return"is-completed";if(r>l.value)return"is-disabled";if(r===l.value)return t.task.isCompleted?"is-completed":"is-current"},E=async()=>{d.value=!0,await u.postCheckTask(t.task.id).then(async r=>{if(r.task.isCompleted){await u.postListTasks().then(()=>{setTimeout(()=>{q().taskNotification=!1},50)});const S={x_start_from:-20,x_start_to:window.innerWidth+20,y_start_from:-20,y_start_to:0,x_end_from:-20,x_end_to:window.innerWidth+20,y_end_from:window.innerHeight-64,y_end_to:window.innerHeight,count:200,delay:5,timeout_fly:1e3,direction_y:"from_bottom",random_end_x:!1};dt().settings.coins_animation&&f("coins-animate",S),f("bs:close"),f("check-task:success"),Z.success({message:`${p().$i18n.t("messages.success")}`,duration:4e3}),setTimeout(()=>{Ct().checkAttraction()},1e3)}else Z.error({message:`${p().$i18n.t("messages.task_not_completed")}`,duration:4e3});setTimeout(()=>{d.value=!1},400)}).catch(r=>{d.value=!1,k.showErrorPush(),console.log(r)})},b=_(()=>d.value||t.task.isCompleted||L.stop),M=_(()=>t.task.isCompleted?p().$i18n.t("buttons.return_tomorrow"):p().$i18n.t("buttons.claim")),v=r=>({content:c(r.days),triggers:["click"],delay:0,distance:4,theme:"hk-tooltip",placement:"top",container:".bs-content-daily",html:!0}),c=r=>{const S=bt();S.locale(k.getLocaleForDate());const I=S().utc();return r===l.value?`<b>${I.format("LL")}</b>`:I.add(r-l.value,"day").format("LL")},N=_(()=>t.task.modalTitle?w().getLocalizedString(t.task.modalTitle):t.task.name?w().getLocalizedString(t.task.name):p().$i18n.t("earn.title")),x=_(()=>t.task.modalDescription?w().getLocalizedString(t.task.modalDescription):"");return(r,S)=>{var K,R;const I=ot,V=wt,B=kt,F=z("motion-pop"),J=z("tooltip");return a(),i("div",Wt,[n("div",Gt,[G($(I,{image:(K=r.task.image)==null?void 0:K.defaultUrl,compressed:(R=r.task.image)==null?void 0:R.compressedUrl},null,8,["image","compressed"]),[[F]])]),n("div",{class:"bs-content-title",innerHTML:e(N)},null,8,xt),n("div",{class:"bs-content-description",innerHTML:e(x)},null,8,Bt),n("ul",Ut,[(a(!0),i(Y,null,j(r.task.rewardsByDays,m=>G((a(),i("li",{key:m.days,class:ut(h(m.days))},[n("span",null,A(r.$t("earn.day"))+" "+A(m.days),1),n("div",zt,[$(V)]),n("p",null,A(e(k).numberFormat(m.rewardCoins,!0)),1)],2)),[[J,v(m)]])),128))]),n("button",{class:"bottom-sheet-button button button-primary button-large is-sticky",onClick:o,disabled:e(b)},[e(d)?(a(),W(B,{key:1})):(a(),i("span",{key:0,innerHTML:e(M)},null,8,Ft))],8,Vt)])}}}),Xt={class:"bs-content"},Yt={class:"bs-content-image is-hamster-drop"},jt=n("div",{class:"bs-content-image-round-bg is-yellow"},null,-1),qt=["innerHTML"],Zt=["innerHTML"],Jt={class:"bs-content-dropdown"},Qt={class:"hk-dropdown-placeholder"},te={class:"hk-dropdown-value"},ee={class:"hk-dropdown-icon"},se=["onClick"],ne={class:"is-white"},oe={class:"bs-content-description"},ae={key:0,class:"bs-content-target"},ie={class:"bs-content-info"},re=["disabled"],le=["innerHTML"],ce=Q({__name:"HamsterDrop",props:{task:{}},setup(D){const{$event:f}=p(),u=tt(),L=nt(),k=w(),t=D,d=y(1),l=y(!1),o=O().t("buttons.check"),h=y(0),E=()=>o,b=y(null),M=y(""),v=y(!1),c=[{key:"EMEA",link:"https://hamsterkombat.art"},{key:"NA",link:"https://hamsterkombat.art"},{key:"LATAM",link:"https://hamsterkombat.art"},{key:"APAC",link:"https://hamsterkombat.art"},{key:"CIS",link:"https://ozon.onelink.me/SNMZ/qdi9sru3"}],N=_(()=>O().t("earn.hamster_drop_description",{game:pt.GAME_NAME})),x=y(E()),r=y(!1);async function S(){d.value===1?(F(),setTimeout(()=>{d.value=2,x.value=o},200),V()):l.value||await B()}const I=_(()=>O().t("earn.hamster_drop_button",{game:pt.GAME_NAME})),V=()=>{setTimeout(()=>{ft(b.value??"",{open:{target:"_blank"}})},400)},B=async()=>{r.value=!0,await u.postCheckTask(t.task.id).then(async m=>{if(m.task.isCompleted){await u.postListTasks();const H={x_start_from:-20,x_start_to:window.innerWidth+20,y_start_from:-20,y_start_to:0,x_end_from:-20,x_end_to:window.innerWidth+20,y_end_from:window.innerHeight-64,y_end_to:window.innerHeight,count:200,delay:5,timeout_fly:1e3,direction_y:"from_bottom",random_end_x:!1};dt().settings.coins_animation&&f("coins-animate",H),f("bs:close"),f("check-task:success"),Z.success({message:`${p().$i18n.t("messages.success")}`,duration:4e3})}else Z.error({message:`${p().$i18n.t("messages.task_not_completed")}`,duration:4e3});setTimeout(()=>{r.value=!1},400)}).catch(m=>{r.value=!1,k.showErrorPush(),console.log(m)})},F=()=>{t.task.id===g.HAMSTER_DROP&&!localStorage.getItem(t.task.id)&&!t.task.isCompleted&&(localStorage.setItem(t.task.id,String(k.getNowTimestamp())),l.value=!0,h.value=1)};ct(()=>{if(["ru","kk","uz","be"].indexOf(q().language_code)>-1?R(c[4]):R(c[0]),!t.task.isCompleted&&t.task.id===g.HAMSTER_DROP){const H=localStorage.getItem(t.task.id);H&&(k.getNowTimestamp()-parseInt(H)>=3600?(d.value=2,l.value=!1):(l.value=!0,h.value=k.secondsToHours(3600-(k.getNowTimestamp()-parseInt(H)))))}t.task.isCompleted&&t.task.id===g.HAMSTER_DROP&&localStorage.removeItem(t.task.id)});const J=()=>{F(),setTimeout(()=>{d.value=2,x.value=o},200)},K=_(()=>t.task.name?w().getLocalizedString(t.task.name):p().$i18n.t("earn.title")),R=m=>{v.value=!1,M.value=p().$i18n.t(`earn.hamster_drop_${m.key}`),b.value=m.link};return(m,H)=>{var et,st;const s=ot,T=mt,X=gt,U=_t,at=kt,it=z("motion-pop");return a(),i("div",Xt,[n("div",Yt,[jt,G($(s,{image:(et=m.task.modalImage)==null?void 0:et.defaultUrl,compressed:(st=m.task.modalImage)==null?void 0:st.compressedUrl},null,8,["image","compressed"]),[[it]])]),n("div",{class:"bs-content-title",innerHTML:e(K)},null,8,qt),n("div",{class:"bs-content-description is-hamster-drop",innerHTML:e(N)},null,8,Zt),n("div",Jt,[n("div",{class:ut(["hk-dropdown",{"is-open":e(v)}])},[n("div",{class:"hk-dropdown-select",onClick:H[0]||(H[0]=P=>v.value=!e(v))},[n("div",Qt,A(m.$t("earn.hamster_drop_select")),1),n("div",te,A(e(M)),1),n("div",ee,[$(T,{name:"caret-right"})])]),G(n("ul",null,[(a(),i(Y,null,j(c,P=>n("li",{key:P.key,onClick:rt=>R(P)},[n("span",ne,A(`${P.key} `),1),n("span",null,"("+A(m.$t(`earn.hamster_drop_${P.key}`))+")",1)],8,se)),64))],512),[[yt,e(v)]])],2)]),n("div",oe,[$(X,{class:"button button-primary button-small",to:e(b),onClick:J,target:"_blank",innerHTML:e(I)},null,8,["to","innerHTML"])]),e(h)?(a(),i("div",ae,A(m.$t("earn.wait",{hours:Math.ceil(e(h))})),1)):C("",!0),n("div",ie,[$(U,{price:m.task.rewardCoins,size:"large",round:!1,prefix:"+"},null,8,["price"])]),m.task.isCompleted?C("",!0):(a(),i("button",{key:1,class:"bottom-sheet-button button button-primary button-large",onClick:S,disabled:e(r)||e(L).stop||e(l)},[e(r)?(a(),W(at,{key:1})):(a(),i("span",{key:0,innerHTML:e(x)},null,8,le))],8,re))])}}}),de={class:"earn-item-image"},ue={class:"earn-item-content"},me=["innerHTML"],_e={class:"earn-item-content-bottom"},ke={class:"earn-item-icon"},pe={key:0,class:"earn-item-icon-success"},he=Q({__name:"Earn",props:{task:{}},setup(D){tt();const{$event:f}=p(),u=D;y(!1);const L=_(()=>u.task.isCompleted),k=_(()=>u.task.id===g.STREAK_DAYS?u.task.rewardsByDays.reduce((l,o)=>l+o.rewardCoins,0):u.task.rewardCoins),t=async()=>{u.task.id===g.STREAK_DAYS?f("bs:open",{component:lt(Kt),props:{task:u.task}}):u.task.id===g.HAMSTER_DROP?f("bs:open",{component:lt(ce),props:{task:u.task}}):f("bs:open",{component:lt(Ot),props:{task:u.task}})},d=_(()=>u.task.name?w().getLocalizedString(u.task.name):p().$i18n.t("earn.title"));return(l,o)=>{var v,c;const h=ot,E=_t,b=mt,M=z("motion-pop");return a(),i("div",{class:ut(["earn-item",{"is-completed":e(L)}]),onClick:t},[n("div",de,[G($(h,{image:(v=l.task.image)==null?void 0:v.defaultUrl,compressed:(c=l.task.image)==null?void 0:c.compressedUrl},null,8,["image","compressed"]),[[M]])]),n("div",ue,[n("div",{class:"earn-item-content-top",innerHTML:e(d)},null,8,me),n("div",_e,[$(E,{price:e(k),prefix:"+",round:!1},null,8,["price"])])]),n("div",ke,[e(L)?(a(),i("div",pe,[$(b,{name:"check"})])):(a(),W(b,{key:1,name:"caret-right"}))])],2)}}}),fe={class:"main"},ge={class:"inner earn"},ve={class:"earn-top"},Te={class:"earn-top-image"},be=["src"],ye=["innerHTML"],$e=["innerHTML"],Le={key:1,class:"earn-column"},we=["innerHTML"],Ce={key:3,class:"earn-column"},Se=["innerHTML"],Me={key:5,class:"earn-column"},He=["innerHTML"],Ee={class:"earn-column"},Pe=Q({__name:"earn",setup(D){O(),nt(),$t();const f=tt(),u=q();ct(()=>{u.taskNotification=!1});const L=_(()=>f.tasks),k=_(()=>L.value.filter(o=>o.id.includes("hamster_youtube_"))??[]),t=_(()=>L.value.filter(o=>(o.id===g.EXCHANGE_SIGNUP_VIA_FRIEND_LINK||o.id===g.HAMSTER_DROP)&&!o.id.includes("hamster_youtube_"))??[]),d=_(()=>L.value.filter(o=>o.periodicity===ht.ONCE&&o.id!==g.EXCHANGE_SIGNUP_VIA_FRIEND_LINK&&o.id!==g.HAMSTER_DROP&&!o.id.includes("hamster_youtube_"))??[]),l=_(()=>L.value.filter(o=>o.periodicity===ht.REPEATEDLY&&o.id!==g.EXCHANGE_SIGNUP_VIA_FRIEND_LINK&&o.id!==g.HAMSTER_DROP&&!o.id.includes("hamster_youtube_"))??[]);return(o,h)=>{const E=mt,b=he,M=z("motion-slide-top"),v=z("motion-slide-right");return a(),i("main",fe,[n("div",ge,[n("div",ve,[G((a(),i("div",Te,[$(E,{name:"glow"}),n("img",{class:"img-responsive",src:"IMAGE_COIN"in o?o.IMAGE_COIN:e(Lt)},null,8,be)])),[[M]]),G(n("div",{class:"earn-top-title",innerHTML:o.$t("earn.title")},null,8,ye),[[v]])]),e(k).length?(a(),i("div",{key:0,class:"section-title",innerHTML:o.$t("earn.hamster_youtube")},null,8,$e)):C("",!0),e(k).length?(a(),i("div",Le,[(a(!0),i(Y,null,j(e(k),(c,N)=>(a(),W(b,{key:`${c.id}`,task:c},null,8,["task"]))),128))])):C("",!0),e(t).length?(a(),i("div",{key:2,class:"section-title",innerHTML:o.$t("earn.specials")},null,8,we)):C("",!0),e(t).length?(a(),i("div",Ce,[(a(!0),i(Y,null,j(e(t),(c,N)=>(a(),W(b,{key:`${c.id}`,task:c},null,8,["task"]))),128))])):C("",!0),e(d).length?(a(),i("div",{key:4,class:"section-title",innerHTML:o.$t("earn.daily_tasks")},null,8,Se)):C("",!0),e(d).length?(a(),i("div",Me,[(a(!0),i(Y,null,j(e(l),(c,N)=>(a(),W(b,{key:`${c.id}`,task:c},null,8,["task"]))),128))])):C("",!0),n("div",{class:"section-title",innerHTML:o.$t("earn.tasks")},null,8,He),n("div",Ee,[(a(!0),i(Y,null,j(e(d),(c,N)=>(a(),W(b,{key:`${c.id}`,task:c},null,8,["task"]))),128))])])])}}});export{Pe as default};
