import{_ as x}from"./image.vue.CMTZJcqa.js";import{d as k,m as T,h as $,o as a,a as m,b as e,g as C,f as o,q as L,M as H,B as M,r as N,c as A,X as v,F as y,G as w,n as B,w as I,e as b,x as U,O as D,U as F,_ as G}from"./entry.PKrA3y6R.js";const X={class:"bs-passive"},P={class:"bs-passive-inner"},O={class:"bs-passive-exchange"},R=["innerHTML"],V=["innerHTML"],q=k({__name:"ChangeExchange",setup(S){const{$event:h}=L(),l=T();$();function s(){h("bs:close")}return(_,g)=>{var u,d;const c=x;return a(),m("div",X,[e("div",P,[e("div",O,[C(c,{name:(u=o(l).currentExchange)==null?void 0:u.id},null,8,["name"])]),e("p",{innerHTML:_.$t("exchange.dialog_title",{exchange:((d=o(l).currentExchange)==null?void 0:d.name)??"unknown"})},null,8,R)]),e("button",{class:"bottom-sheet-button button button-primary button-large",onClick:s},[e("span",{innerHTML:_.$t("exchange.dialog_button")},null,8,V)])])}}}),z={class:"main"},j={class:"inner settings"},J=["innerHTML"],K=["disabled","onClick"],Q={class:"settings-item-image"},W={class:"settings-item-content"},Y={class:"settings-item-action"},ne=k({__name:"exchange",setup(S){const{$event:h}=L(),l=H(),s=T(),_=$(),g=M(),c=N(!1);async function u(n){var t;((t=s.currentExchange)==null?void 0:t.id)!==n.id&&(c.value=!0,await s.postUserExchangeId(n.id).then(i=>{setTimeout(()=>{h("bs:open",{component:U(q)})},300),setTimeout(()=>{D(l(F.GAME_INDEX))},50)}).catch(i=>{_.showErrorPush()}).finally(()=>{setTimeout(()=>{c.value=!1},1e3)}))}const d=A(()=>{var n,t;return((n=s.currentExchange)==null?void 0:n.id)===v.DEFAULT_EXCHANGE?g.exchanges:(t=g.exchanges)==null?void 0:t.filter(i=>i.id!==v.DEFAULT_EXCHANGE)});return(n,t)=>{const i=x,p=G;return a(),m("main",z,[e("div",j,[e("div",{class:"settings-title",innerHTML:n.$t("settings.select_exchange")},null,8,J),(a(!0),m(y,null,w(o(d),r=>{var E,f;return a(),m("button",{class:B(["settings-item",{"is-active":((E=o(s).currentExchange)==null?void 0:E.id)===r.id}]),disabled:o(c),onClick:Z=>u(r)},[e("div",Q,[C(i,{name:r.id},null,8,["name"])]),e("div",W,[e("p",null,I(r.name),1)]),e("div",Y,[((f=o(s).currentExchange)==null?void 0:f.id)===r.id?(a(),b(p,{key:0,class:"is-24",name:"check"})):(a(),b(p,{key:1,class:"is-24",name:"caret-right"}))])],10,K)}),256))])])}}});export{ne as default};
